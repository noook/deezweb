(function(t){function e(e){for(var r,a,c=e[0],s=e[1],u=e[2],d=0,l=[];d<c.length;d++)a=c[d],o[a]&&l.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o={app:0},i=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-840adbf2":"6ec25f82","chunk-c38885d6":"e95c288f"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-840adbf2":1,"chunk-c38885d6":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-840adbf2":"fe5ca0cb","chunk-c38885d6":"429ae8ed"}[t]+".css",o=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===o))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],d=u.getAttribute("data-href");if(d===r||d===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.request=r,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){a[t]=0}));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise(function(e,n){r=o[t]=[e,n]});e.push(r[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(t),u=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[t]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/deezweb/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=d;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"2d80":function(t,e,n){},"33ce":function(t,e,n){"use strict";var r=n("d875"),a=n.n(r);a.a},"4b4a":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-card card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("img",{staticClass:"thumbnail",attrs:{src:t.track.album.cover,alt:"thumbnail"}}),n("div",{staticClass:"infos"},[n("p",{staticClass:"title"},[t._v(t._s(t.track.title_short))]),n("p",{staticClass:"artists"},[t._v(t._s(t.track.artist.name))])])]),n("audio",{attrs:{src:t.track.preview,controls:""}}),n("div",{staticClass:"action"},[n("div",{staticClass:"favorite-action",class:{added:t.isFavorite},on:{click:t.toggle}},[n("font-awesome-icon",{attrs:{icon:t.isFavorite?"heart-broken":"heart"}}),t._v("\n        "+t._s(t.isFavorite?t.removeFromFavorites:t.addToFavorites)+"\n      ")],1)])])])},a=[],o=(n("6762"),n("2fdb"),n("2b0e")),i=o["a"].extend({name:"MusicCard",props:{track:{required:!0,type:Object}},data:function(){return{addToFavorites:"Ajouter aux favoris",removeFromFavorites:"Retirer des favoris"}},methods:{toggle:function(){this.$store.dispatch("updateFavorites",this.track)}},computed:{isFavorite:function(){return this.$store.state.FAVORITES.map(function(t){return t.id}).includes(this.track.id)}}}),c=i,s=(n("ae68"),n("2877")),u=Object(s["a"])(c,r,a,!1,null,"49520f99",null);e["a"]=u.exports},"55c7":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5e27":function(t,e,n){},aabe:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return l});n("55dd"),n("7514"),n("6762"),n("2fdb");var r=n("f499"),a=n.n(r),o=n("d871"),i=n.n(o);function c(){return JSON.parse(localStorage.getItem("favorites"))||[]}function s(t){localStorage.setItem("favorites",a()(t))}function u(t,e){var n=t.map(function(t){return t.id});if(n.includes(e.id)){var r=t.find(function(t){return t.id===e.id});t.splice(t.indexOf(r),1)}else t.push(e)}function d(t){return t.map(function(t){return[Math.random(),t]}).sort(function(t,e){return t[0]-e[0]}).map(function(t){return t[1]})}function l(t){return i()("https://api.deezer.com/search/?output=jsonp&q=".concat(t.q,"&order=").concat(t.order))}},ad62:function(t,e,n){"use strict";var r=n("2d80"),a=n.n(r);a.a},ae68:function(t,e,n){"use strict";var r=n("55c7"),a=n.n(r);a.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=n("ecee"),o=n("c074"),i=n("ad3d"),c=n("8c4f"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t._m(0),this.$store.state.FAVORITES.length?n("div",{staticClass:"random-music"},[n("h2",[t._v("Une musique de vos favoris au hasard:")]),n("MusicCard",{attrs:{track:t.random}}),n("button",{staticClass:"btn shuffle btn-primary",attrs:{type:"button"},on:{click:t.shuffle}},[n("font-awesome-icon",{attrs:{icon:"random"}}),t._v("\n      Choisir une autre musique\n    ")],1)],1):t._e()])},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jumbotron jumbotron-fluid px-4"},[n("h1",[t._v("Bienvenue sur Deezweb !")]),n("p",{staticClass:"lead"},[t._v("\n      L'application qui permet facilement d'Ã©couter de la musique.\n    ")])])}],d=n("4b4a"),l=r["a"].extend({name:"home",components:{MusicCard:d["a"]},data:function(){return{key:0}},methods:{shuffle:function(){this.$store.dispatch("shuffleFavorite")}},computed:{random:function(){return this.$store.state.RANDOM_FAVORITE}}}),f=l,p=(n("33ce"),n("2877")),v=Object(p["a"])(f,s,u,!1,null,"42f18eb2",null),m=v.exports;r["a"].use(c["a"]);var h=new c["a"]({routes:[{path:"/",name:"home",component:m},{path:"/favorites",name:"favorites",component:function(){return n.e("chunk-c38885d6").then(n.bind(null,"48d5"))}},{path:"/search",name:"search",component:function(){return n.e("chunk-840adbf2").then(n.bind(null,"2d3b"))}}]}),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("div",{staticClass:"router-view container my-3"},[n("router-view")],1)],1)},g=[],O=(n("ab8b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-navbar"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[n("span",[t._v("Deezweb")])]),n("router-link",{attrs:{to:"/"}},[n("font-awesome-icon",{attrs:{icon:"home"}}),t._v("Accueil\n  ")],1),n("router-link",{attrs:{to:"/search"}},[n("font-awesome-icon",{attrs:{icon:"search"}}),t._v("Rechercher un titre\n  ")],1),n("router-link",{attrs:{to:"/favorites"}},[n("font-awesome-icon",{attrs:{icon:"heartbeat"}}),t._v("Mes favoris\n  ")],1)],1)}),_=[],F=r["a"].extend({name:"Navbar"}),y=F,k=(n("ad62"),Object(p["a"])(y,O,_,!1,null,"e596948c",null)),w=k.exports,E=r["a"].extend({components:{Navbar:w},name:"App"}),j=E,A=(n("5c0b"),Object(p["a"])(j,b,g,!1,null,null,null)),C=A.exports,T=n("2f62"),S=n("aabe");r["a"].use(T["a"]);var x=new T["a"].Store({state:{FAVORITES:Object(S["a"])(),RANDOM_FAVORITE:Object(S["a"])().length?Object(S["d"])(Object(S["a"])())[0]:null},mutations:{UPDATE_FAVORITES:function(t,e){Object(S["e"])(t.FAVORITES,e),Object(S["b"])(t.FAVORITES)},SHUFFLE_FAVORITES:function(t){r["a"].set(t,"RANDOM_FAVORITE",Object(S["a"])().length?Object(S["d"])(Object(S["a"])())[0]:null)}},actions:{updateFavorites:function(t,e){t.commit("UPDATE_FAVORITES",e),t.commit("SHUFFLE_FAVORITES")},shuffleFavorite:function(t){t.commit("SHUFFLE_FAVORITES")}}});a["c"].add(o["d"],o["f"],o["c"],o["b"],o["e"],o["a"]),r["a"].component("font-awesome-icon",i["a"]),r["a"].config.productionTip=!1,new r["a"]({router:h,store:x,render:function(t){return t(C)}}).$mount("#app")},d875:function(t,e,n){}});
//# sourceMappingURL=app.d6d51e8e.js.map